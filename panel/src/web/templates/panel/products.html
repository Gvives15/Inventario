{% extends "panel/base.html" %}
{% block title %}Productos{% endblock %}
{% block content %}
  <div class="h1" style="margin-top:0">Productos</div>
  <div class="row" style="margin-bottom:12px">
    <input class="input" name="q" id="products-search" placeholder="Buscar por nombre o código…"
           hx-get="{% url 'panel:products_table_partial' %}"
           hx-trigger="keyup changed delay:300ms"
           hx-target="#products-table" hx-swap="innerHTML" />
    <button class="btn btn-primary" hx-get="{% url 'panel:movement_drawer_partial' %}" hx-target="#movement-drawer" hx-swap="innerHTML">+ Movimiento</button>
  </div>
  <div class="row" style="margin-bottom:8px">
    <div class="badge">OK</div>
    <div class="badge">Bajo</div>
    <div class="badge">Sin stock</div>
    <a href="#" class="meta" hx-get="{% url 'panel:products_table_partial' %}" hx-target="#products-table" hx-swap="innerHTML">Limpiar filtros</a>
  </div>
  <div id="products-table" hx-get="{% url 'panel:products_table_partial' %}" hx-trigger="load, inventory:changed from:body" hx-target="#products-table" hx-swap="innerHTML"></div>
  <div id="product-sheet" hx-target="this" hx-swap="innerHTML"></div>
  <div id="movement-drawer" hx-target="this" hx-swap="innerHTML"></div>
  <div id="toast-stack"></div>
{% endblock %}
